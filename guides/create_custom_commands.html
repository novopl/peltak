

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Custom peltak commands &mdash; peltak 0.26.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/overrides.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Share your peltak commands" href="package_commands.html" />
    <link rel="prev" title="Create peltak scripts" href="scripts.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> peltak
          

          
          </a>

          
            
            
              <div class="version">
                0.26.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="_index.html">Guides</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l2"><a class="reference internal" href="scripts.html">Create peltak scripts</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Custom peltak commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#background">Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-to-create-custom-commands">How to create custom commands</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hello-world-command">Hello world command</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="package_commands.html">Share your peltak commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html">Auto-generate changelog from git history</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference/_index.html">Reference Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/_index.html">Dev Docs</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">peltak</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="_index.html">Guides</a> &raquo;</li>
        
      <li>Custom peltak commands</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/guides/create_custom_commands.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="custom-peltak-commands">
<h1>Custom peltak commands<a class="headerlink" href="#custom-peltak-commands" title="Permalink to this headline">¶</a></h1>
<div class="section" id="background">
<h2>Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h2>
<p>When the built in scripts functionality is not enough <strong>peltak</strong> allows you to
write commands directly in python. You are free to keep your <strong>peltak</strong> commands
as part of your project or move them to a separate directory. You always need
to specify what commands are available within your project’s <strong>pelconf.yaml</strong> so
from <strong>peltak’s</strong> perspective it really doesn’t matter where you store them.</p>
<p>The rule of thumb is to start with project specific commands being stored as
part of the project repo and as you progress you might extract some of your
commands into a separate packages so you can reuse them in other projects or
just share with the community.</p>
<p><strong>peltak</strong> internally uses <a class="reference external" href="https://click.palletsprojects.com/en/7.x/">click</a>
so everything you can find in the click docs applies here as well. <strong>peltak</strong>
does provide some functionality built on top of click that makes some of the
tasks easier to implement (<code class="xref any docutils literal notranslate"><span class="pre">pretend_option</span></code> for example), and already provides
the root CLI group (<code class="xref any docutils literal notranslate"><span class="pre">peltak.commands.root_cli</span></code>) as well as some predefined
groups that you can extend.</p>
<p>You can attach your commands to any existing group as well as create new groups
and attach them wherever you want. <strong>peltak</strong> tries to be very flexible in terms
of how you structure the CLI commands for your project.</p>
</div>
<div class="section" id="how-to-create-custom-commands">
<h2>How to create custom commands<a class="headerlink" href="#how-to-create-custom-commands" title="Permalink to this headline">¶</a></h2>
<div class="section" id="hello-world-command">
<h3>Hello world command<a class="headerlink" href="#hello-world-command" title="Permalink to this headline">¶</a></h3>
<p>Let’s start with the most basic command that will just print hello world to
terminal. This will show you all the steps you need to take to implement the
command and make it available to peltak. We will assume that you keep all your
code inside a <code class="docutils literal notranslate"><span class="pre">./src</span></code> directory in your project. The <a class="reference internal" href="../reference/pelconf.html#pelconf-yaml"><span class="std std-ref">pelconf.yaml</span></a> file
will live in the project root.</p>
<p>For peltak to be able to load your command file you need to place it within
<code class="docutils literal notranslate"><span class="pre">src_dir</span></code> as defined by <a class="reference internal" href="../reference/pelconf.html#pelconf-yaml"><span class="std std-ref">pelconf.yaml</span></a>. Here is an example config we will
start</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="package_commands.html" class="btn btn-neutral float-right" title="Share your peltak commands" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="scripts.html" class="btn btn-neutral float-left" title="Create peltak scripts" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2018, Mateusz &#39;novo&#39; Klos

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>